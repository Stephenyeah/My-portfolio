(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[789],{21:(e,r,t)=>{Promise.resolve().then(t.bind(t,6395))},6395:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var n=t(5155),c=t(2115);function u(){let e=(0,c.useRef)(null),r=(0,c.useRef)(null),t=(0,c.useRef)({x:200,y:400}),u=(0,c.useRef)(0),a=(0,c.useRef)(0),l=(0,c.useRef)([]),s=(0,c.useRef)([]),i=(0,c.useRef)([]),o=(0,c.useRef)([]),h=(0,c.useRef)(null),d=(0,c.useRef)(null),[w,x]=(0,c.useState)(0),[f,m]=(0,c.useState)(!1),g="/My-portfolio",y=(0,c.useRef)(0),p=(0,c.useRef)({ArrowLeft:!1,ArrowRight:!1,ArrowUp:!1,ArrowDown:!1});return(0,c.useEffect)(()=>{let n=e.current;if(!n)return;let c=n.getContext("2d");if(!c)return;let w=new Image;w.src="".concat(g,"/images/planegame/bg.jpg");let v=new Image;v.src="".concat(g,"/images/planegame/plane.png");let R=new Image;R.src="".concat(g,"/images/planegame/enemy.png"),o.current=[];for(let e=1;e<=16;e++){let r=new Image;r.src="".concat(g,"/images/planegame/explode/e").concat(e,".gif"),o.current.push(r)}h.current=new Audio("".concat(g,"/sounds/laser-shot.wav")),d.current=new Audio("".concat(g,"/sounds/dyingsphere__15.wav"));let M=e=>{if(e.key in p.current&&(p.current[e.key]=!0)," "===e.key){var r;l.current.push({x:t.current.x+9,y:t.current.y}),null==(r=h.current)||r.play()}},b=e=>{e.key in p.current&&(p.current[e.key]=!1)};window.addEventListener("keydown",M),window.addEventListener("keyup",b);let A=()=>{c&&!f&&(p.current.ArrowLeft&&(u.current-=.5),p.current.ArrowRight&&(u.current+=.5),p.current.ArrowUp&&(a.current-=.5),p.current.ArrowDown&&(a.current+=.5),p.current.ArrowLeft||p.current.ArrowRight||(u.current>0?u.current-=.2:u.current<0&&(u.current+=.2)),p.current.ArrowUp||p.current.ArrowDown||(a.current>0?a.current-=.2:a.current<0&&(a.current+=.2)),u.current=Math.max(Math.min(u.current,6),-6),a.current=Math.max(Math.min(a.current,6),-6),.1>Math.abs(u.current)&&(u.current=0),.1>Math.abs(a.current)&&(a.current=0),t.current.x+=u.current,t.current.y+=a.current,t.current.x=Math.max(0,Math.min(n.width-22,t.current.x)),t.current.y=Math.max(0,Math.min(n.height-33,t.current.y)),c.clearRect(0,0,n.width,n.height),c.drawImage(w,0,0,n.width,n.height),c.drawImage(v,t.current.x,t.current.y,22,33),y.current++,y.current%60==0&&s.current.push({x:Math.random()*(n.width-32),y:-32,alive:!0,degree:Math.random()*Math.PI*2,speed:2+2*Math.random()}),s.current.forEach(e=>{e.alive&&(e.x+=e.speed*Math.cos(e.degree),e.y+=e.speed*Math.sin(e.degree),e.x<=0&&(e.x=0,e.degree=Math.PI-e.degree),e.x>=n.width-32&&(e.x=n.width-32,e.degree=Math.PI-e.degree),e.y<=0&&(e.y=0,e.degree=-e.degree),e.y>=n.height-32&&(e.y=n.height-32,e.degree=-e.degree),c.drawImage(R,e.x,e.y,32,32),t.current.x<e.x+32&&t.current.x+22>e.x&&t.current.y<e.y+32&&t.current.y+33>e.y&&m(!0))}),l.current.forEach(e=>{c.fillStyle="white",c.fillRect(e.x,e.y,4,10),e.y-=5}),l.current.forEach(e=>{s.current.forEach(r=>{if(r.alive&&e.x<r.x+32&&e.x+4>r.x&&e.y<r.y+32&&e.y+10>r.y){var t;r.alive=!1,i.current.push({x:r.x,y:r.y,frame:0}),e.y=-20,null==(t=d.current)||t.play(),x(e=>e+1)}})}),l.current=l.current.filter(e=>e.y>0),s.current=s.current.filter(e=>e.alive),i.current.forEach(e=>{let r=o.current[e.frame];r&&c.drawImage(r,e.x,e.y,32,32),e.frame++}),i.current=i.current.filter(e=>e.frame<16),r.current=requestAnimationFrame(A))};return w.onload=()=>{v.onload=()=>{A()}},()=>{window.removeEventListener("keydown",M),window.removeEventListener("keyup",b),null!==r.current&&cancelAnimationFrame(r.current)}},[f]),(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen bg-black text-white relative",children:[(0,n.jsxs)("h1",{className:"text-xl mb-2",children:["Score: ",w]}),f&&(0,n.jsxs)("div",{className:"absolute top-1/3 text-center w-full",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Game Over"}),(0,n.jsx)("button",{onClick:()=>{var r,n;t.current={x:200,y:400},u.current=0,a.current=0,l.current=[],s.current=[],i.current=[],x(0),m(!1),(null==(r=e.current)?void 0:r.getContext("2d"))&&(null==(n=e.current.getContext("2d"))||n.clearRect(0,0,480,640))},className:"bg-red-600 text-white px-4 py-2 rounded shadow",children:"Restart"})]}),(0,n.jsx)("canvas",{ref:e,width:480,height:640,className:"border-2 border-white"})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[441,684,358],()=>r(21)),_N_E=e.O()}]);